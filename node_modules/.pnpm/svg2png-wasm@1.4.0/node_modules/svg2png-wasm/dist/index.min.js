/**
 * @file This library uses [resvg](https://github.com/RazrFalcon/resvg), which is licensed unser MPL-2.0. The source code for resvg can be found [here](https://github.com/RazrFalcon/resvg).
 */
var svg2pngWasm=(()=>{var O=Object.defineProperty;var P=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var B=Object.prototype.hasOwnProperty;var N=e=>O(e,"__esModule",{value:!0});var V=(e,n)=>{for(var t in n)O(e,t,{get:n[t],enumerable:!0})},H=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of q(n))!B.call(e,i)&&(t||i!=="default")&&O(e,i,{get:()=>n[i],enumerable:!(r=P(n,i))||r.enumerable});return e};var J=(e=>(n,t)=>e&&e.get(n)||(t=H(N({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var oe={};V(oe,{createSvg2png:()=>D,initialize:()=>te,svg2png:()=>re});var o,U=typeof TextDecoder!="undefined"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder!="undefined"&&U.decode();var y=null;function g(){return(y===null||y.byteLength===0)&&(y=new Uint8Array(o.memory.buffer)),y}function T(e,n){return e=e>>>0,U.decode(g().subarray(e,e+n))}var u=new Array(128).fill(void 0);u.push(void 0,null,!0,!1);var m=u.length;function k(e){m===u.length&&u.push(u.length+1);let n=m;return m=u[n],u[n]=e,n}function z(e){return u[e]}function $(e){e<132||(u[e]=m,m=e)}function M(e){let n=z(e);return $(e),n}var _=0;function G(e,n){let t=n(e.length*1)>>>0;return g().set(e,t/1),_=e.length,t}var F=typeof TextEncoder!="undefined"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},K=typeof F.encodeInto=="function"?function(e,n){return F.encodeInto(e,n)}:function(e,n){let t=F.encode(e);return n.set(t),{read:e.length,written:t.length}};function d(e,n,t){if(t===void 0){let a=F.encode(e),f=n(a.length)>>>0;return g().subarray(f,f+a.length).set(a),_=a.length,f}let r=e.length,i=n(r)>>>0,c=g(),s=0;for(;s<r;s++){let a=e.charCodeAt(s);if(a>127)break;c[i+s]=a}if(s!==r){s!==0&&(e=e.slice(s)),i=t(i,r,r=s+e.length*3)>>>0;let a=g().subarray(i+s,i+r);s+=K(e,a).written}return _=s,i}function l(e){return e==null}var p=null;function b(){return(p===null||p.byteLength===0)&&(p=new Int32Array(o.memory.buffer)),p}function Q(e,n){return e=e>>>0,g().subarray(e/1,e/1+n)}var v=null;function X(){return(v===null||v.byteLength===0)&&(v=new Uint32Array(o.memory.buffer)),v}function Y(e,n){e=e>>>0;let r=X().subarray(e/4,e/4+n),i=[];for(let c=0;c<r.length;c++)i.push(M(r[c]));return i}function L(e,n,t,r,i){var c=l(e)?0:d(e,o.__wbindgen_malloc,o.__wbindgen_realloc),s=_,a=l(n)?0:d(n,o.__wbindgen_malloc,o.__wbindgen_realloc),f=_,h=l(t)?0:d(t,o.__wbindgen_malloc,o.__wbindgen_realloc),x=_,W=l(r)?0:d(r,o.__wbindgen_malloc,o.__wbindgen_realloc),C=_,w=l(i)?0:d(i,o.__wbindgen_malloc,o.__wbindgen_realloc),E=_;let I=o.createConverter(c,s,a,f,h,x,W,C,w,E);return A.__wrap(I)}var A=class{static __wrap(n){n=n>>>0;let t=Object.create(A.prototype);return t.__wbg_ptr=n,t}__destroy_into_raw(){let n=this.__wbg_ptr;return this.__wbg_ptr=0,n}free(){let n=this.__destroy_into_raw();o.__wbg_converter_free(n)}registerFont(n){let t=G(n,o.__wbindgen_malloc),r=_;o.converter_registerFont(this.__wbg_ptr,t,r)}convert(n,t,r,i,c){try{let w=o.__wbindgen_add_to_stack_pointer(-16),E=d(n,o.__wbindgen_malloc,o.__wbindgen_realloc),I=_;var s=l(c)?0:d(c,o.__wbindgen_malloc,o.__wbindgen_realloc),a=_;o.converter_convert(w,this.__wbg_ptr,E,I,!l(t),l(t)?0:t,!l(r),l(r)?0:r,!l(i),l(i)?0:i,s,a);var f=b()[w/4+0],h=b()[w/4+1],x=b()[w/4+2],W=b()[w/4+3];if(W)throw M(x);var C=Q(f,h).slice();return o.__wbindgen_free(f,h*1),C}finally{o.__wbindgen_add_to_stack_pointer(16)}}list_fonts(){try{let i=o.__wbindgen_add_to_stack_pointer(-16);o.converter_list_fonts(i,this.__wbg_ptr);var n=b()[i/4+0],t=b()[i/4+1],r=Y(n,t).slice();return o.__wbindgen_free(n,t*4),r}finally{o.__wbindgen_add_to_stack_pointer(16)}}};async function Z(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}let t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{let t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function ee(){let e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(n,t){let r=T(n,t);return k(r)},e.wbg.__wbg_new_abda76e883ba8a5f=function(){let n=new Error;return k(n)},e.wbg.__wbg_stack_658279fe44541cf6=function(n,t){let r=z(t).stack,i=d(r,o.__wbindgen_malloc,o.__wbindgen_realloc),c=_;b()[n/4+1]=c,b()[n/4+0]=i},e.wbg.__wbg_error_f851667af71bcfc6=function(n,t){let r,i;try{r=n,i=t,console.error(T(n,t))}finally{o.__wbindgen_free(r,i)}},e.wbg.__wbindgen_object_drop_ref=function(n){M(n)},e.wbg.__wbindgen_throw=function(n,t){throw new Error(T(n,t))},e}function ne(e,n){return o=e.exports,R.__wbindgen_wasm_module=n,p=null,v=null,y=null,o.__wbindgen_start(),o}async function R(e){if(o!==void 0)return o;typeof e=="undefined"&&(e=new URL("svg2png_wasm_bg.wasm",void 0));let n=ee();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:t,module:r}=await Z(await e,n);return ne(t,r)}var j=R;var S=!1,te=async e=>{if(S)throw new Error("Already initialized. The `initialize` function can be used only once.");await j(await e),S=!0},D=e=>{if(!S)throw new Error("WASM has not been initialized. Call `initialize` function.");let n;n=L(e?.defaultFontFamily?.serifFamily,e?.defaultFontFamily?.sansSerifFamily,e?.defaultFontFamily?.cursiveFamily,e?.defaultFontFamily?.fantasyFamily,e?.defaultFontFamily?.monospaceFamily);for(let r of e?.fonts??[])n.registerFont(r);let t=(r,i)=>new Promise((c,s)=>{try{let a=n?.convert(r,i?.scale,i?.width,i?.height,i?.backgroundColor);if(a)c(a);else throw new Error("Converter already disposed.")}catch(a){a instanceof Error?s(a):s(new Error(`${a}`))}});return t.dispose=()=>{n?.free(),n=void 0},t.getLoadedFontFamilies=()=>n?.list_fonts()??[],t},re=(e,n)=>{let t=D(n);return t(e,n).finally(()=>t.dispose())};return J(oe);})();
